# JDK 구성

### 참조
https://www.shiksha.com/online-courses/articles/its-all-about-java-jdk




## 1. JDK 아키텍쳐
---
<img src="https://github.com/user-attachments/assets/2b002020-ebdd-4003-b204-ee643fb8b598" alt="JDK Architecture Diagram" width="70%">

<p>출처:(EXCALIDRAW.COM 활용 직접 작성)</p>
<br><br>

## 2.JDK와 JRE의 역할
---
### JDK (Java Development Kit)

**역할**: 자바 애플리케이션을 개발하고 컴파일하는 데 필요한 도구들을 제공합니다.

**주요 구성 요소**:
- **javac**: 자바 소스 파일(.java)을 바이트코드(.class)로 컴파일하는 컴파일러.
- **java**: JVM을 호출하여 자바 애플리케이션을 실행하는 도구.
- **javadoc**: 자바 소스 파일에서 API 문서를 생성하는 도구.
- **jar**: JAR(Java Archive) 파일을 생성하고 관리하는 도구.
- **디버거**: 자바 애플리케이션을 디버깅하는 도구.
- **기타 개발 도구**: 다양한 개발 및 빌드 도구들.

### JRE (Java Runtime Environment)

**역할**: 자바 애플리케이션을 실행하기 위한 런타임 환경을 제공합니다.

**주요 구성 요소**:
- **JVM**: 바이트코드(.class 파일)를 실행하는 가상 머신.
- **클래스 라이브러리**: 자바 애플리케이션이 동작하는 데 필요한 기본 클래스들.
- **클래스 로더**: .class 파일을 메모리로 로드하는 컴포넌트.
- **런타임 라이브러리**: 애플리케이션 실행에 필요한 기본적인 기능을 제공.
  
  <br><br>
  
## 3. JDK 동작 방식
---
JDK(Java Development Kit)는 자바 개발에 필요한 도구를 제공하며, 자바 소스 파일을 작성하고 실행하는 데 사용됩니다. JDK의 동작 방식은 다음과 같습니다.

## 자바 소스 파일 작성

- 우리가 흔히 작성하는 HelloWorld.java 소스 파일(.java)을 작성합니다.

## 컴파일 단계

 **javac (Java Compiler)**:
   - JDK에 포함된 자바 컴파일러인 `javac`가 자바 소스 파일(.java) -> 바이트코드(.class)로 컴파일합니다.
   - 플랫폼에 독립적인 바이트코드.

## 실행 단계

 **JVM (Java Virtual Machine)**:
   - JRE(Java Runtime Environment)에 포함된 JVM이 바이트코드(.class)를 읽고 실행합니다.
   - JVM의 실행 과정:

      - **클래스 로더**: JVM의 클래스 로더가 .class 파일을 메모리로 로드합니다.
        
      - **바이트코드 검증**: JVM은 로드된 바이트코드가 유효한지 검증합니다.
        
      - **JIT 컴파일러 (Just-In-Time Compiler)**:
        - JVM은 실행 중에 바이트코드를 기계어 코드로 변환합니다. **CPU가 직접 실행할 수 있는 저수준의 명령어**
        - 이 기계어 코드는 실제 하드웨어에서 실행될 수 있는 코드입니다.
        - JIT 컴파일러는 자주 사용되는 코드를 미리 컴파일하여 성능을 최적화합니다. **루프와 같은 자주 실행되는 코드는 JIT 컴파일러가 런타임 중 코드의 실행 빈도와 패턴을 프로파일링하여 기계어 코드를 생성합니다.**

       - **인터프리터**:
        - JVM은 바이트코드를 한 줄씩 읽고 해석하여 실행합니다.
        - JIT 컴파일러가 기계어 코드로 변환하지 않은 코드는 인터프리터가 실행합니다.

      - **혼합 사용**
        - JVM 인터프리터로만 작동한다는 가정하에는 어플리케이션에 문제가 많아집니다. JVM은 인터프리터에 의해 해석될 때마다 실행되기 때문에 인터프리팅 오버헤드가 발생합니다. 
        - 고로 JVM은 인터프리터와 JIT 컴파일러를 함께 사용하여, 초기에는 인터프리터로 빠르게 실행하고, 이후 자주 실행되는 코드는 JIT 컴파일러로 최적화합니다. **서로 상호보완 하며 성능 향상 시너지를 낸다**

        
## 요약

- 자바 소스 파일(.java)은 다음과 같은 단계를 거쳐 실행됩니다:
  1. `javac` 컴파일러가 소스 파일을 바이트코드(.class)로 변환합니다.
  2. JVM이 바이트코드를 로드하고 검증합니다.
  3. JVM의 JIT 컴파일러가 바이트코드를 기계어 코드로 변환합니다.
  4. 변환된 기계어 코드는 실제 하드웨어에서 실행됩니다. 나머지 바이트코드는 JVM의 인터프리터에 의해 실행됩니다.
